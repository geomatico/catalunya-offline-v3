{"version":3,"file":"541.js","mappings":"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","sources":["webpack://catalunya-offline/./node_modules/jeep-photoviewer/dist/esm/jeep-photo-buttons_6.entry.js"],"sourcesContent":["import { r as registerInstance, c as createEvent, h, H as Host, g as getElement } from './index-796ed9f4.js';\n\nconst btoa = (b) => window.btoa(b);\nconst shareSVG = \"<svg xmlns='http://www.w3.org/2000/svg'  viewBox='0 0 24 24' fill='none' stroke='#fff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='feather feather-share-2'><circle cx='18' cy='5' r='3'></circle><circle cx='6' cy='12' r='3'></circle><circle cx='18' cy='19' r='3'></circle><line x1='8.59' y1='13.51' x2='15.42' y2='17.49'></line><line x1='15.41' y1='6.51' x2='8.59' y2='10.49'></line></svg>\";\nconst closeSVG = \"<svg xmlns='http://www.w3.org/2000/svg'   viewBox='0 0 24 24' fill='none' stroke='#fff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='feather feather-x'><line x1='18' y1='6' x2='6' y2='18'></line><line x1='6' y1='6' x2='18' y2='18'></line></svg>\";\nconst minimizeSVG = \"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='#fff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='feather feather-minimize'><path d='M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3'></path></svg>\";\nconst fullscreenSVG = \"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='#fff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='feather feather-maximize'><path d='M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3'></path></svg>\";\nconst placeholderSVG = `<svg id='No_Image' data-name='No_Image' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 240 240'>\n<rect x='50' y='70' width='140' height='140' rx='20' ry='20' fill='#3700B3' mask='url(#hole)'/>\n<mask id='hole'>\n    <rect x='50' y='70' width='140' height='140'  rx='20' ry='20' fill='#b49393'/>\n    <path d='M70 190,H170,L135 100,L110 150,L92.5 130 z' stroke='red' fill='#3700B3'></path>\n</mask>\n</svg>\n`;\nconst shareUrl = \"url('data:image/svg+xml;base64,\" + btoa(shareSVG) + \"')\";\nconst closeUrl = \"url('data:image/svg+xml;base64,\" + btoa(closeSVG) + \"')\";\nconst minimizeUrl = \"url('data:image/svg+xml;base64,\" + btoa(minimizeSVG) + \"')\";\nconst fullscreenUrl = \"url('data:image/svg+xml;base64,\" + btoa(fullscreenSVG) + \"')\";\nconst placeholderUrl = \"url('data:image/svg+xml;base64,\" + btoa(placeholderSVG) + \"')\";\n\nconst jeepPhotoButtonsCss = \":host{display:block;--photo-buttons-height:min(7vmin, 40px);--photo-buttons-padding:3px}.photobuttons-container{position:absolute;top:5vh;left:0;width:100vw;height:var(--photo-buttons-height);background-color:rgba(125,125,125,0.3);visibility:visible}.wrapper{width:100%;height:100%}.share-button{position:absolute;top:0;left:7vmin;width:var(--photo-buttons-height);height:var(--photo-buttons-height);background-position:center;background-repeat:no-repeat;background-size:cover}.mode-button{position:absolute;top:0;left:calc(100vw / 2 - var(--photo-buttons-height) / 2);width:var(--photo-buttons-height);height:var(--photo-buttons-height);background-position:center;background-repeat:no-repeat;background-size:cover}.close-button{position:absolute;top:0;left:calc(100vw - var(--photo-buttons-height) - 7vmin);width:var(--photo-buttons-height);height:var(--photo-buttons-height);background-position:center;background-repeat:no-repeat;background-size:cover}.hidden{visibility:hidden}\";\n\nconst JeepPhotoButtons = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.onPhotoButtonsClose = createEvent(this, \"jeepPhotoButtonsClose\", 7);\n        this.onPhotoRequestFullscreen = createEvent(this, \"jeepPhotoRequestFullscreen\", 7);\n        this.onPhotoRequestMinimize = createEvent(this, \"jeepPhotoRequestMinimize\", 7);\n        this.onPhotoButtonsShare = createEvent(this, \"jeepPhotoButtonsShare\", 7);\n        this.share = undefined;\n        this.viewmode = undefined;\n        this.closebutton = undefined;\n        this.fromcomponent = undefined;\n        this.innerShare = undefined;\n        this.innerViewmode = undefined;\n        this.innerCloseButton = undefined;\n        this.innerFromComponent = undefined;\n        this.visible = undefined;\n        this.mode = undefined;\n    }\n    //*****************************\n    //* Watch on Property Changes *\n    //*****************************\n    parseShare(newValue) {\n        this.innerShare = newValue;\n    }\n    parseViewmode(newValue) {\n        this.innerViewmode = newValue;\n    }\n    parseCloseButton(newValue) {\n        this.innerCloseButton = newValue;\n    }\n    parseFromComponent(newValue) {\n        this.innerFromComponent = newValue;\n    }\n    //**********************\n    //* Method Definitions *\n    //**********************\n    /**\n     * Method initialize\n     */\n    async init() {\n        return await this._init();\n    }\n    /**\n     * Set the Photo Buttons.\n     */\n    setPhotoButtons() {\n        return Promise.resolve(this._setPhotoButtons());\n    }\n    /**\n     * Set the Navigation Visibility (visible/hidden)\n     */\n    setJeepPhotoButtonsVisibility(state) {\n        if (state) {\n            this._photoButtonsEl.classList.remove('hidden');\n            this.visible = true;\n        }\n        else {\n            this._photoButtonsEl.classList.add('hidden');\n            this.visible = false;\n        }\n        return;\n    }\n    //*******************************\n    //* Component Lifecycle Methods *\n    //*******************************\n    async componentWillLoad() {\n        this._window = window;\n        await this.init();\n    }\n    async componentDidLoad() {\n        await this.setPhotoButtons();\n    }\n    //******************************\n    //* Private Method Definitions *\n    //******************************\n    async _init() {\n        this._element = this.el.shadowRoot;\n        this.parseShare(this.share ? this.share : \"visible\");\n        this.parseViewmode(this.viewmode ? this.viewmode : \"normal\");\n        this.parseCloseButton(this.closebutton ? this.closebutton : \"yes\");\n        this.parseFromComponent(this.fromcomponent ? this.fromcomponent : \"jeep-photoviewer\");\n        if (this.innerViewmode === \"fullscreen\") {\n            this.mode = \"minimize\";\n            this._modeUrl = minimizeUrl;\n        }\n        else {\n            this.mode = \"fullscreen\";\n            this._modeUrl = fullscreenUrl;\n        }\n        return;\n    }\n    async _setPhotoButtons() {\n        this._photoButtonsEl = this._element.querySelector('.photobuttons-container');\n        if (this.innerShare === \"visible\" &&\n            this.innerFromComponent === \"jeep-photo-hscroll\") {\n            this._shareEl = this._photoButtonsEl.querySelector('.share-button');\n            this._shareEl.style.setProperty(\"background-image\", `${shareUrl}`);\n        }\n        if (this.innerFromComponent === \"jeep-photo-hscroll\") {\n            this._modeEl = this._photoButtonsEl.querySelector('.mode-button');\n            this._modeEl.style.setProperty(\"background-image\", `${this._modeUrl}`);\n        }\n        if (this.innerCloseButton === \"yes\") {\n            this._closeEl = this._photoButtonsEl.querySelector('.close-button');\n            this._closeEl.style.setProperty(\"background-image\", `${closeUrl}`);\n        }\n        return;\n    }\n    _handleClick(button) {\n        switch (button) {\n            case \"share\": {\n                this.onPhotoButtonsShare.emit();\n                break;\n            }\n            case \"close\": {\n                this.onPhotoButtonsClose.emit({ component: this.innerFromComponent });\n                break;\n            }\n            case \"mode\": {\n                if (this.mode === \"fullscreen\") {\n                    this._modeUrl = minimizeUrl;\n                    this._modeEl.style.setProperty(\"background-image\", `${this._modeUrl}`);\n                    this.onPhotoRequestFullscreen.emit();\n                    this.mode = \"minimize\";\n                }\n                else {\n                    this._modeUrl = fullscreenUrl;\n                    this._modeEl.style.setProperty(\"background-image\", `${this._modeUrl}`);\n                    this.onPhotoRequestMinimize.emit();\n                    this.mode = \"fullscreen\";\n                }\n                break;\n            }\n        }\n    }\n    //*************************\n    //* Rendering JSX Element *\n    //*************************\n    render() {\n        let toRender = [];\n        if (this.innerShare === \"visible\" &&\n            this.innerFromComponent === \"jeep-photo-hscroll\") {\n            toRender = [...toRender, h(\"div\", { class: \"share-button\", onClick: () => this._handleClick(\"share\") })\n            ];\n        }\n        if (this.innerFromComponent === \"jeep-photo-hscroll\")\n            toRender = [...toRender, h(\"div\", { class: \"mode-button\", onClick: () => this._handleClick(\"mode\") })\n            ];\n        if (this.innerCloseButton === \"yes\") {\n            toRender = [...toRender, h(\"div\", { class: \"close-button\", onClick: () => this._handleClick(\"close\") })\n            ];\n        }\n        return (h(Host, null, h(\"div\", { class: \"photobuttons-container\" }, h(\"div\", { class: \"wrapper\" }, toRender))));\n    }\n    get el() { return getElement(this); }\n    static get watchers() { return {\n        \"share\": [\"parseShare\"],\n        \"viewmode\": [\"parseViewmode\"],\n        \"closebutton\": [\"parseCloseButton\"],\n        \"fromcomponent\": [\"parseFromComponent\"]\n    }; }\n};\nJeepPhotoButtons.style = jeepPhotoButtonsCss;\n\nconst jeepPhotoHscrollCss = \":host{display:block;--hscroll-background-color:var(--photoviewer-background-color);--hscroll-title-color:#d3d3d3}.hscroll-container{position:absolute;top:0;bottom:0;right:0;left:0;overflow-y:hidden;background-color:var(--hscroll-background-color)}.wrapper{box-sizing:border-box;padding:0;margin:0;position:relative;width:100%;height:100%}.carousel{box-sizing:border-box;margin:0;padding:0;width:100vw;height:100vh;scroll-snap-type:x mandatory;display:flex;-ms-scroll-snap-type:x mandatory;-webkit-scroll-snap-type:x mandatory;-webkit-scroll-snap-destination:0% 0%;-webkit-overflow-scrolling:touch;overflow-x:scroll;-ms-overflow-style:none;visibility:visible}.carousel::-webkit-scrollbar{display:none}.carousel-item{border-right:1px solid white;padding:0;min-width:100vw;min-height:100vh;scroll-snap-align:start;text-align:center;position:relative}.carousel-image{width:100vw;height:100vh;object-fit:contain}.carousel-title{position:absolute;bottom:0;visibility:visible;width:100vw;height:3vh;color:var(--hscroll-title-color);font:2.5vh Arial, sans-serif}.hidden{visibility:hidden}\";\n\nconst JeepPhotoHscroll = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.onPhotoHscrollResult = createEvent(this, \"jeepPhotoHscrollResult\", 7);\n        this.onPhotoZoom = createEvent(this, \"jeepPhotoZoom\", 7);\n        this.onPhotoPhotoHscrollClose = createEvent(this, \"jeepPhotoHscrollClose\", 7);\n        this._tapped = false;\n        this._tappedTime = null;\n        this._tapNum = 0;\n        this._timerStart = false;\n        this._photoZoomOneTap = false;\n        this._ticking = false;\n        this._isScrollListener = false;\n        this._shareUrl = \"\";\n        this._shareTitle = \"\";\n        this._shareText = \"\";\n        this.position = undefined;\n        this.imageList = undefined;\n        this.options = undefined;\n        this.mode = undefined;\n        this.innerImageList = undefined;\n        this.innerOptions = undefined;\n        this.innerPosition = undefined;\n        this.innerMode = undefined;\n        this.buttonsVisibility = undefined;\n        this.isFullscreen = undefined;\n        this.photoZoom = undefined;\n        this.share = undefined;\n        this.shareShow = false;\n        this.titleShow = true;\n        this.maxZoomScale = undefined;\n        this.currentIndex = undefined;\n    }\n    //*****************************\n    //* Watch on Property Changes *\n    //*****************************\n    parsePosition(newValue) {\n        this.innerPosition = newValue;\n    }\n    parseImageList(newValue) {\n        this.innerImageList = newValue;\n    }\n    parseOptions(newValue) {\n        this.innerOptions = newValue;\n    }\n    parseMode(newValue) {\n        this.innerMode = newValue;\n    }\n    async handleWindowResize() {\n        this._currentPosition = this.currentIndex * this._window.innerWidth;\n        await this._scrollToPosition(this.currentIndex);\n    }\n    async handleJeepPhotoButtonsClose() {\n        if (this.isFullscreen) {\n            await this._fullscreenExit();\n        }\n        if (this.innerMode !== 'gallery') {\n            this.currentIndex = this.innerMode === 'slider' ? this._getCurrentPhotoIndex() : this.innerPosition;\n            this.onPhotoHscrollResult.emit({ result: true, imageIndex: this.currentIndex });\n        }\n    }\n    async handleJeepPhotoButtonsShare() {\n        this.shareShow = true;\n        this._shareUrl = this.innerImageList[this.currentIndex].url;\n        this._shareTitle = this.innerImageList[this.currentIndex].title;\n        this._shareText = \"Share API Demo\";\n    }\n    async handleJeepPhotoShareCompleted(event) {\n        if (event.detail) {\n            if (event.detail.result) {\n                this.onPhotoHscrollResult.emit({ result: true,\n                    message: \"Photo has been shared successfully\" });\n            }\n            else {\n                this.onPhotoHscrollResult.emit({ result: false,\n                    message: `Error: ${event.detail.message}` });\n            }\n        }\n        else {\n            this.onPhotoHscrollResult.emit({ result: false,\n                message: \"Error: No message returned\" });\n        }\n        this.shareShow = false;\n    }\n    async handleJeepPhotoFullscreenRequest() {\n        await this._fullscreenRequest(document.documentElement);\n    }\n    async handleJeepPhotoMinimizeRequest() {\n        const index = this._getCurrentPhotoIndex();\n        await this._fullscreenExit();\n        this.currentIndex = index;\n    }\n    async handleJeepPhotoZoomOneTap() {\n        this.photoZoom = false;\n        this.onPhotoZoom.emit({ isZoom: this.photoZoom });\n        this._photoZoomOneTap = true;\n        this.buttonsVisibility = !this.buttonsVisibility;\n    }\n    async handleJeepPhotoSwipe(event) {\n        if (event.detail) {\n            if (!this.photoZoom) {\n                let direction = event.detail;\n                if (direction.up || direction.down) {\n                    if (this.isFullscreen) {\n                        await this._fullscreenExit();\n                    }\n                    if (this.innerMode !== 'gallery') {\n                        this.currentIndex = this.innerMode === 'slider' ? this._getCurrentPhotoIndex() : this.innerPosition;\n                        this.onPhotoHscrollResult.emit({ result: true, imageIndex: this.currentIndex });\n                    }\n                    else {\n                        this.onPhotoPhotoHscrollClose.emit();\n                    }\n                }\n            }\n        }\n    }\n    //**********************\n    //* Method Definitions *\n    //**********************\n    /**\n     * Method initialize\n     */\n    async init() {\n        return await this._init();\n    }\n    /**\n     * Set the Carousel.\n     */\n    setCarousel() {\n        return Promise.resolve(this._setCarousel());\n    }\n    //*******************************\n    //* Component Lifecycle Methods *\n    //*******************************\n    async componentWillLoad() {\n        this._window = window;\n        await this.init();\n    }\n    async componentDidLoad() {\n        await this.setCarousel();\n    }\n    async componentDidRender() {\n        if (this._photoZoomOneTap) {\n            await this.setCarousel();\n            this._photoZoomOneTap = false;\n        }\n    }\n    //******************************\n    //* Private Method Definitions *\n    //******************************\n    async _init() {\n        this._element = this.el.shadowRoot;\n        this.parseImageList(this.imageList ? this.imageList : null);\n        this.parseOptions(this.options ? this.options : null);\n        this.parseMode(this.mode ? this.mode : \"one\");\n        this.parsePosition(this.position >= 0 ? this.position : 0);\n        this.buttonsVisibility = true;\n        this.isFullscreen = false;\n        this.photoZoom = false;\n        this.onPhotoZoom.emit({ isZoom: this.photoZoom });\n        this.share = \"visible\";\n        this.share = this.innerOptions != null\n            && Object.keys(this.innerOptions).includes(\"share\")\n            ? this.innerOptions.share ? \"visible\" : \"hidden\"\n            : \"visible\";\n        this.titleShow = this.innerOptions != null\n            && Object.keys(this.innerOptions).includes(\"title\")\n            ? this.innerOptions.title : true;\n        this.maxZoomScale = this.innerOptions != null && this.innerOptions.maxzoomscale\n            ? this.innerOptions.maxzoomscale : 3.0;\n        this.currentIndex = this.innerPosition;\n        this._widthFullscreen = this._window.innerWidth;\n        return;\n    }\n    async _setCarousel() {\n        this._hsContEl = this._element.querySelector(`.hscroll-container`);\n        this._hsContEl.addEventListener('wheel', this._wheelHandler.bind(this));\n        this._carouselEl = this._element.querySelector(`.carousel`);\n        await this._scrollToPosition(this.currentIndex);\n        this._currentPosition = this.currentIndex * this._window.innerWidth;\n        this._previousScrollWidth = this._carouselEl.scrollWidth;\n        this._carouselEl.classList.remove('hidden');\n        if (!this._isScrollListener) {\n            this._isScrollListener = true;\n            this._carouselEl.addEventListener('scroll', () => {\n                if (!this._ticking) {\n                    setTimeout(async () => {\n                        if (this._carouselEl.scrollWidth === this._previousScrollWidth) {\n                            const index = this._getCurrentPhotoIndex();\n                            if (index !== this.currentIndex) {\n                                this.currentIndex = index;\n                            }\n                        }\n                        this._ticking = false;\n                    }, 500);\n                    this._ticking = true;\n                }\n            }, false);\n        }\n        return;\n    }\n    _wheelHandler(event) {\n        // Prevent pinch gestures for zooming\n        if (event.ctrlKey) {\n            event.preventDefault();\n        }\n    }\n    async _scrollToPosition(index) {\n        this._currentPosition = index * this._window.innerWidth;\n        if (this._carouselEl)\n            this._carouselEl.scrollTo(this._currentPosition, 0);\n        return;\n    }\n    _getCurrentPhotoIndex() {\n        let index = 0;\n        this._currentPosition = Number(this._carouselEl.scrollLeft);\n        if (Math.abs(this._carouselEl.scrollWidth / this.innerImageList.length - this._window.innerWidth) <= 2) {\n            // slide constant width\n            index = Math.round(this._currentPosition / this._window.innerWidth);\n        }\n        return index;\n    }\n    async _fullscreenRequest(elem) {\n        if (elem.requestFullscreen) {\n            elem.requestFullscreen();\n        }\n        else if (elem.webkitRequestFullscreen) {\n            elem.webkitRequestFullscreen();\n        }\n        else if (elem.mozRequestFullScreen) {\n            elem.mozRequestFullScreen();\n        }\n        else if (elem.msRequestFullscreen) {\n            elem.msRequestFullscreen();\n        }\n        else {\n            this.onPhotoHscrollResult.emit({ result: false,\n                message: \"Error: Fullscreen API is not supported.\" });\n        }\n        this.isFullscreen = true;\n        return;\n    }\n    async _fullscreenExit() {\n        let doc = document;\n        if (doc && doc.exitFullscreen) {\n            doc.exitFullscreen();\n        }\n        else if (doc && doc.webkitExitFullscreen) {\n            doc.webkitExitFullscreen();\n        }\n        else if (doc && doc.mozExitFullscreen) {\n            doc.mozExitFullscreen();\n        }\n        else if (doc && doc.msExitFullscreen) {\n            doc.msExitFullscreen();\n        }\n        else {\n            this.onPhotoHscrollResult.emit({ result: false,\n                message: \"Error: Fullscreen API is not supported.\" });\n        }\n        this.isFullscreen = false;\n        return;\n    }\n    _handleClick() {\n        if (this.innerMode === \"gallery\" || this.innerMode === \"slider\") {\n            this.currentIndex = this._getCurrentPhotoIndex();\n            this._currentPosition = this.currentIndex * this._window.innerWidth;\n        }\n        else {\n            this.currentIndex = this.innerPosition;\n        }\n        this.buttonsVisibility = !this.buttonsVisibility;\n        // launch the zoom in out\n        this.photoZoom = true;\n        this.onPhotoZoom.emit({ isZoom: this.photoZoom });\n        return;\n    }\n    //*************************\n    //* Rendering JSX Element *\n    //*************************\n    render() {\n        let toRenderImg = [];\n        if (this.innerImageList != null && this.innerImageList.length > 0) {\n            const classTitle = this.titleShow ? \"carousel-title\" : \"carousel-title hidden\";\n            if (this.innerMode === \"gallery\" || this.innerMode === \"slider\") {\n                for (var i = 0; i < this.innerImageList.length; i++) {\n                    toRenderImg = [...toRenderImg, h(\"div\", { class: \"carousel-item\", onClick: () => this._handleClick() }, h(\"img\", { src: this.innerImageList[i].url, alt: this.innerImageList[i].title, class: \"carousel-image\" }), h(\"p\", { class: classTitle }, this.innerImageList[i].title))\n                    ];\n                }\n            }\n            if (this.innerMode === \"one\") {\n                toRenderImg = [...toRenderImg, h(\"div\", { class: \"carousel-item\", onClick: () => this._handleClick() }, h(\"img\", { src: this.innerImageList[this.innerPosition].url, alt: this.innerImageList[this.innerPosition].title, class: \"carousel-image\" }), h(\"p\", { class: classTitle }, this.innerImageList[this.innerPosition].title))\n                ];\n            }\n        }\n        //    const closeMode: string = this.innerImageList.length === 1 ? \"no\" : \"yes\";\n        let toRender = [];\n        if (this.buttonsVisibility) {\n            const mode = this.isFullscreen ? \"fullscreen\" : \"normal\";\n            toRender = [...toRender, h(\"jeep-photo-buttons\", { share: this.share, viewmode: mode, closebutton: \"yes\", fromcomponent: \"jeep-photo-hscroll\" })\n            ];\n        }\n        let toRenderShare = [];\n        if (this.shareShow) {\n            toRenderShare = [...toRenderShare, h(\"jeep-photo-share\", { surl: this._shareUrl, stitle: this._shareTitle, stext: this._shareText })\n            ];\n        }\n        return (h(Host, null, h(\"div\", { class: \"hscroll-container\" }, h(\"div\", { class: \"wrapper\" }, this.photoZoom\n            ?\n                h(\"jeep-photo-zoom\", { url: this.innerImageList[this.currentIndex].url, maxzoomscale: this.maxZoomScale })\n            :\n                h(\"div\", null, h(\"jeep-photo-swipe\", null, h(\"div\", { class: \"carousel hidden\" }, toRenderImg)), toRender, toRenderShare)))));\n    }\n    get el() { return getElement(this); }\n    static get watchers() { return {\n        \"position\": [\"parsePosition\"],\n        \"imageList\": [\"parseImageList\"],\n        \"options\": [\"parseOptions\"],\n        \"mode\": [\"parseMode\"]\n    }; }\n};\nJeepPhotoHscroll.style = jeepPhotoHscrollCss;\n\nconst jeepPhotoShareCss = \":host{display:block;--share-background-color:#000;--share-width:100vw;--share-height:100vh;--share-top:0px;--share-left:0px}.share-container{position:absolute;top:0;bottom:0;right:0;left:0;background-color:var(--zoom-background-color)}.wrapper{padding:0;margin:0;position:relative;width:100%;height:100%}\";\n\nconst JeepPhotoShare = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.onPhotoShareCompleted = createEvent(this, \"jeepPhotoShareCompleted\", 7);\n        this.surl = null;\n        this.stitle = null;\n        this.stext = null;\n        this.innerUrl = undefined;\n        this.innerTitle = undefined;\n        this.innerText = undefined;\n    }\n    //*****************************\n    //* Watch on Property Changes *\n    //*****************************\n    parseUrl(newValue) {\n        this.innerUrl = newValue;\n    }\n    parseTitle(newValue) {\n        this.innerTitle = newValue;\n    }\n    parseText(newValue) {\n        this.innerText = newValue;\n    }\n    //**********************\n    //* Method Definitions *\n    //**********************\n    /**\n     * Method initialize\n     */\n    async init() {\n        return await this._init();\n    }\n    /**\n     * Set the Share.\n     */\n    setShare() {\n        return Promise.resolve(this._setShare());\n    }\n    //*******************************\n    //* Component Lifecycle Methods *\n    //*******************************\n    async componentWillLoad() {\n        this._window = window;\n        await this.init();\n    }\n    async componentDidLoad() {\n        await this.setShare();\n    }\n    //******************************\n    //* Private Method Definitions *\n    //******************************\n    async _init() {\n        this._element = this.el.shadowRoot;\n        this.parseUrl(this.surl ? this.surl : null);\n        this.parseTitle(this.stitle ? this.stitle : null);\n        this.parseText(this.stext ? this.stext : null);\n        return;\n    }\n    async _setShare() {\n        if (navigator.share) {\n            navigator.share({\n                title: this.innerTitle,\n                url: this.innerUrl,\n                text: this.innerText\n            })\n                .then(() => {\n                this.onPhotoShareCompleted.emit({ result: true });\n            })\n                .catch((error) => {\n                this.onPhotoShareCompleted.emit({ result: false, message: error });\n            });\n        }\n        else {\n            const msg = \"Share not implemented on this browser\";\n            this.onPhotoShareCompleted.emit({ result: false, message: msg });\n        }\n    }\n    //*************************\n    //* Rendering JSX Element *\n    //*************************\n    render() {\n        return (h(Host, null));\n    }\n    get el() { return getElement(this); }\n    static get watchers() { return {\n        \"surl\": [\"parseUrl\"],\n        \"stitle\": [\"parseTitle\"],\n        \"stext\": [\"parseText\"]\n    }; }\n};\nJeepPhotoShare.style = jeepPhotoShareCss;\n\nconst jeepPhotoSwipeCss = \"\";\n\nconst JeepPhotoSwipe = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.onPhotoSwipe = createEvent(this, \"jeepPhotoSwipe\", 7);\n        this._startPoint = {};\n        this._endPoint = {};\n        this._totalTime = 0;\n        this._getSwipeDirection = (startPoint, endPoint, thresholdX, thresholdY) => {\n            var swipeDirection = { up: false, right: false, down: false, left: false };\n            if (startPoint.x > endPoint.x && startPoint.x - endPoint.x >= thresholdX)\n                swipeDirection.left = true;\n            else if (startPoint.x < endPoint.x && endPoint.x - startPoint.x >= thresholdX)\n                swipeDirection.right = true;\n            if (startPoint.y < endPoint.y && endPoint.y - startPoint.y >= thresholdY)\n                swipeDirection.down = true;\n            else if (startPoint.y > endPoint.y && startPoint.y - endPoint.y >= thresholdY)\n                swipeDirection.up = true;\n            return swipeDirection;\n        };\n        this.timeThreshold = 200;\n        this.thresholdX = 100;\n        this.thresholdY = 100;\n        this.innerTimeThreshold = undefined;\n        this.innerThresholdX = undefined;\n        this.innerThresholdY = undefined;\n    }\n    //*****************************\n    //* Watch on Property Changes *\n    //*****************************\n    parseTimeThreshold(newValue) {\n        this.innerTimeThreshold = newValue;\n    }\n    parseThresholdX(newValue) {\n        this.innerThresholdX = newValue;\n    }\n    parseThresholdY(newValue) {\n        this.innerThresholdY = newValue;\n    }\n    //**********************\n    //* Method Definitions *\n    //**********************\n    /**\n     * Method initialize\n     */\n    async init() {\n        return await this._init();\n    }\n    /**\n     * handleTouchStart\n     */\n    async handleTouchStart(e) {\n        this._startPoint.x = e.touches[0].clientX; //This is where touchstart coordinates are stored\n        this._startPoint.y = e.touches[0].clientY;\n        this._time = setInterval(() => {\n            this._totalTime += 10;\n        }, 10);\n    }\n    /**\n     * handleTouchEnd\n     */\n    async handleTouchEnd(e) {\n        this._endPoint.x = e.changedTouches[0].clientX;\n        this._endPoint.y = e.changedTouches[0].clientY;\n        // Let's stop calculating time and free up resources.\n        clearInterval(this._time);\n        if (this._totalTime >= this.innerTimeThreshold) {\n            let res = this._getSwipeDirection(this._startPoint, this._endPoint, this.innerThresholdX, this.innerThresholdY);\n            this.onPhotoSwipe.emit({ up: res.up, down: res.down, left: res.left, right: res.right });\n        }\n        this._totalTime = 0;\n    }\n    /**\n     * handleMouseDown\n     */\n    async handleMouseDown(e) {\n        e.preventDefault();\n        this._startPoint.x = e.clientX; //This is where touchstart coordinates are stored\n        this._startPoint.y = e.clientY;\n        this._time = setInterval(() => {\n            this._totalTime += 10;\n        }, 10);\n    }\n    /**\n     * handleMouseEUp\n     */\n    async handleMouseUp(e) {\n        this._endPoint.x = e.clientX;\n        this._endPoint.y = e.clientY;\n        // Let's stop calculating time and free up resources.\n        clearInterval(this._time);\n        if (this._totalTime >= this.innerTimeThreshold) {\n            let res = this._getSwipeDirection(this._startPoint, this._endPoint, this.innerThresholdX, this.innerThresholdY);\n            this.onPhotoSwipe.emit({ up: res.up, down: res.down, left: res.left, right: res.right });\n        }\n        this._totalTime = 0;\n    }\n    //*******************************\n    //* Component Lifecycle Methods *\n    //*******************************\n    async componentWillLoad() {\n        this._window = window;\n        await this.init();\n    }\n    //******************************\n    //* Private Method Definitions *\n    //******************************\n    async _init() {\n        this._element = this.el.shadowRoot;\n        this.parseTimeThreshold(this.timeThreshold ? this.timeThreshold : 200);\n        this.parseThresholdX(this.thresholdX ? this.thresholdX : 100);\n        this.parseThresholdY(this.thresholdY ? this.thresholdY : 100);\n        return;\n    }\n    //*************************\n    //* Rendering JSX Element *\n    //*************************\n    render() {\n        return (h(Host, null, h(\"div\", { class: \"swipe-container\", onTouchStart: (e) => this.handleTouchStart(e), onTouchEnd: (e) => this.handleTouchEnd(e), onMouseDown: (e) => this.handleMouseDown(e), onMouseUp: (e) => this.handleMouseUp(e) }, h(\"slot\", null))));\n    }\n    get el() { return getElement(this); }\n    static get watchers() { return {\n        \"timeThreshold\": [\"parseTimeThreshold\"],\n        \"thresholdX\": [\"parseThresholdX\"],\n        \"thresholdY\": [\"parseThresholdY\"]\n    }; }\n};\nJeepPhotoSwipe.style = jeepPhotoSwipeCss;\n\nconst jeepPhotoZoomCss = \":host{display:block;--zoom-background-color:var(--photoviewer-background-color);--zoom-width:100vw;--zoom-height:100vh;--zoom-offset-x:0px;--zoom-offset-y:0px;--zoom-top:0px;--zoom-left:0px;--zoom-transform:scale(1) translateX(0px) translateY(0px)}.zoom-container{position:absolute;top:0;bottom:0;right:0;left:0;background-color:var(--zoom-background-color)}.wrapper{padding:0;margin:0;position:relative;width:100%;height:100%}.zoom-item{margin:0;padding:0;width:100vw;height:100vh;position:relative}.zoom-image{position:absolute;offset:var(--zoom-offset-x) var(--zoom-offset-y);top:var(--zoom-top);left:var(--zoom-left);width:var(--zoom-width);height:var(--zoom-height);transform:var(--zoom-transform)}\";\n\nconst JeepPhotoZoom = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.onPhotoZoomOneTap = createEvent(this, \"jeepPhotoZoomOneTap\", 7);\n        this._tapedTime = null;\n        this._tapNum = 0;\n        this._timerStart = false;\n        this._imageNatural = {};\n        this._view = {};\n        this._imageInView = {};\n        this._curPan = {};\n        this._startPoint = {};\n        this._movePoint = {};\n        this._lastPoint = {};\n        this._toggleDoubleTouch = false;\n        this._touchStart = false;\n        this._touchMove = false;\n        this._touchWheel = false;\n        this._touchStartTime = 0;\n        this._waiTime = 500;\n        this._initialDistance = null;\n        this._pinchPoint = {};\n        this._WHEEL_SCALE_SPEEDUP = 2;\n        this.url = undefined;\n        this.maxzoomscale = 3;\n        this.innerUrl = undefined;\n        this.innerMaxZoomScale = undefined;\n    }\n    //*****************************\n    //* Watch on Property Changes *\n    //*****************************\n    parseUrl(newValue) {\n        this.innerUrl = newValue;\n    }\n    parseMaxZooScale(newValue) {\n        this.innerMaxZoomScale = newValue;\n    }\n    //**********************\n    //* Method Definitions *\n    //**********************\n    /**\n     * Method initialize\n     */\n    async init() {\n        return await this._init();\n    }\n    /**\n     * Set the Photo.\n     */\n    setPhoto() {\n        return Promise.resolve(this._setPhoto());\n    }\n    //*******************************\n    //* Component Lifecycle Methods *\n    //*******************************\n    async componentWillLoad() {\n        this._window = window;\n        await this.init();\n    }\n    async componentDidLoad() {\n        await this.setPhoto();\n    }\n    //******************************\n    //* Private Method Definitions *\n    //******************************\n    async _init() {\n        this._element = this.el.shadowRoot;\n        this.parseUrl(this.url ? this.url : null);\n        this.parseMaxZooScale(this.maxzoomscale ? this.maxzoomscale : 3);\n        this._curZoomScale = 1.0;\n        this._curPan = { x: 0, y: 0 };\n        this._lastPoint = { x: this._window.innerWidth / 2, y: this._window.innerHeight / 2 };\n        return;\n    }\n    async _setPhoto() {\n        this._photoEl = this._element.querySelector('.zoom-item');\n        // Define Listeners\n        this._photoEl.addEventListener(\"touchstart\", this._startHandler.bind(this));\n        this._photoEl.addEventListener(\"touchmove\", this._moveHandler.bind(this));\n        this._photoEl.addEventListener(\"touchend\", this._endHandler.bind(this));\n        this._photoEl.addEventListener('mousedown', this._startHandler.bind(this));\n        this._photoEl.addEventListener('mousemove', this._moveHandler.bind(this));\n        this._photoEl.addEventListener('mouseup', this._endHandler.bind(this));\n        this._photoEl.addEventListener('wheel', this._wheelHandler.bind(this));\n        await this.setImage();\n        this._imageEl = this._photoEl.querySelector('.zoom-image');\n        // View Size\n        this._view = { left: 0, top: 0, width: this._window.innerWidth,\n            height: this._window.innerHeight };\n        // Image Natural Size\n        this._imageNatural = { left: 0, top: 0, width: this._imageEl.naturalWidth,\n            height: this._imageEl.naturalHeight };\n        // Image in View\n        this._imageInView = this._calculateImageInView();\n        // Set the maximum scale\n        this._maxZoomScale = this._calculateMaxZooScale();\n        // Set host properties\n        this._setHostProperties(this._curZoomScale, this._curPan);\n        // Set the lastPoint to the View center\n        this._lastPoint.x = this._imageInView.width / 2;\n        this._lastPoint.y = this._imageInView.height / 2;\n        return;\n    }\n    async setImage() {\n        return new Promise((resolve) => {\n            var img = new Image();\n            img.onload = () => {\n                this._photoEl.append(img);\n                resolve();\n            };\n            img.src = this.innerUrl;\n            img.className = 'zoom-image';\n        });\n    }\n    _setHostProperties(scale, pan) {\n        const transform = `scale(${scale}) translateX(${pan.x}px) translateY(${pan.y}px)`;\n        this.el.style.setProperty('--zoom-left', `${this._imageInView.left}px`);\n        this.el.style.setProperty('--zoom-top', `${this._imageInView.top}px`);\n        this.el.style.setProperty('--zoom-width', `${this._imageInView.width}px`);\n        this.el.style.setProperty('--zoom-height', `${this._imageInView.height}px`);\n        this.el.style.setProperty('--zoom-transform', `${transform}`);\n    }\n    _calculateImageInView() {\n        let imageRect = {};\n        const scale = Math.max(this._imageNatural.width / this._view.width, this._imageNatural.height / this._view.height);\n        imageRect.width = this._imageNatural.width / scale;\n        imageRect.height = this._imageNatural.height / scale;\n        imageRect.left = Math.max(0, (this._view.width - imageRect.width) / 2);\n        imageRect.top = Math.max(0, (this._view.height - imageRect.height) / 2);\n        return imageRect;\n    }\n    _calculateMaxZooScale() {\n        return Math.max(this.innerMaxZoomScale, Math.max(this._view.width / this._imageInView.width, this._view.height / this._imageInView.height));\n    }\n    _getTouchPoint(event) {\n        let point = {};\n        if (event.targetTouches) {\n            // Touch Events\n            point.x = event.targetTouches[0].clientX;\n            point.y = event.targetTouches[0].clientY;\n        }\n        else {\n            // Mouse event\n            point.x = event.clientX;\n            point.y = event.clientY;\n        }\n        return point;\n    }\n    //******************************\n    //* Handling Gesture Events    *\n    //******************************\n    _wheelHandler(event) {\n        // Detect pinch gestures for zooming\n        if (event.ctrlKey) {\n            event.preventDefault();\n            if (!this._initialDistance) {\n                this._initialDistance = event.deltaY;\n                this._pinchPoint = { x: event.clientX, y: event.clientY };\n                this._touchWheel = true;\n            }\n            else {\n                const factor = event.deltaY <= 0 ?\n                    1 - this._WHEEL_SCALE_SPEEDUP * event.deltaY / 100 :\n                    1 / (1 + this._WHEEL_SCALE_SPEEDUP * event.deltaY / 100);\n                this._curZoomScale = this._curZoomScale * factor;\n                // Ensure the zoom scale is within the specified range [1, maxScale]\n                this._curZoomScale = Math.min(this._maxZoomScale, Math.max(1, this._curZoomScale));\n                this._curPan.x = (this._view.width / 2 - this._pinchPoint.x) * (this._curZoomScale - 1) / this._curZoomScale;\n                this._curPan.y = (this._view.height / 2 - this._pinchPoint.y) * (this._curZoomScale - 1) / this._curZoomScale;\n                this._setHostProperties(this._curZoomScale, this._curPan);\n                if (this._curZoomScale < 1.005) {\n                    this._touchWheel = false;\n                    this._initialDistance = null;\n                    this._curZoomScale = 1;\n                    this._curPan = { x: 0, y: 0 };\n                    this._setHostProperties(this._curZoomScale, this._curPan);\n                }\n            }\n        }\n    }\n    _startHandler(event) {\n        this._startPoint = this._getTouchPoint(event);\n        this._touchStartTime = new Date().getTime();\n        if (this._curZoomScale === 1.0)\n            this._touchWheel = false;\n        this._tapNum++;\n        this._touchStart = true;\n        this._touchMove = false;\n        this._tapedTime = setTimeout(() => {\n            if (this._tapNum === 1 && !this._touchWheel) {\n                if (!this._toggleDoubleTouch) {\n                    this._handleSingleTap();\n                }\n            }\n            this._tapNum = 0;\n        }, this._waiTime);\n        // Prevent the default action for the touchstart event\n        event.preventDefault();\n    }\n    _moveHandler(event) {\n        if (this._toggleDoubleTouch || this._touchWheel) {\n            if (this._touchWheel)\n                this._initialDistance = null;\n            this._movePoint = this._getTouchPoint(event);\n            this._touchMove = true;\n            const deltaPoint = { x: this._lastPoint.x - this._movePoint.x,\n                y: this._lastPoint.y - this._movePoint.y };\n            this._curPan.x += deltaPoint.x * (this._maxZoomScale - 1) / this._maxZoomScale;\n            this._curPan.y += deltaPoint.y * (this._maxZoomScale - 1) / this._maxZoomScale;\n            this._lastPoint = this._movePoint;\n            this._setHostProperties(this._maxZoomScale, this._curPan);\n        }\n    }\n    _endHandler() {\n        const touchEndTime = new Date().getTime();\n        const touchDuration = touchEndTime - this._touchStartTime;\n        if (this._tapNum === 2 && touchDuration < this._waiTime) {\n            this._lastPoint = { x: this._startPoint.x, y: this._startPoint.y };\n            clearTimeout(this._tapedTime);\n            this._handleDoubleTap(this._startPoint);\n            if (this._touchWheel) {\n                this._touchWheel = false;\n                this._initialDistance = null;\n            }\n            else {\n                this._toggleDoubleTouch = !this._toggleDoubleTouch;\n            }\n            this._tapNum = 0;\n        }\n        this._touchStart = false;\n        this._touchMove = false;\n    }\n    _handleSingleTap() {\n        this._curZoomScale = 1;\n        this._curPan = { x: 0, y: 0 };\n        this._setHostProperties(this._curZoomScale, this._curPan);\n        this.onPhotoZoomOneTap.emit();\n    }\n    _handleDoubleTap(pt) {\n        if (this._curZoomScale === 1) {\n            this._curZoomScale = this._maxZoomScale;\n            this._curPan.x = (this._view.width / 2 - pt.x) * (this._curZoomScale - 1) / this._curZoomScale;\n            this._curPan.y = (this._view.height / 2 - pt.y) * (this._curZoomScale - 1) / this._curZoomScale;\n            this._setHostProperties(this._curZoomScale, this._curPan);\n        }\n        else {\n            this._curZoomScale = 1;\n            this._curPan = { x: 0, y: 0 };\n            this._setHostProperties(this._curZoomScale, this._curPan);\n        }\n        return;\n    }\n    //*************************\n    //* Rendering JSX Element *\n    //*************************\n    render() {\n        return (h(Host, null, h(\"div\", { class: \"zoom-container\" }, h(\"div\", { class: \"wrapper\" }, h(\"div\", { class: \"zoom-item\" })))));\n    }\n    get el() { return getElement(this); }\n    static get watchers() { return {\n        \"url\": [\"parseUrl\"],\n        \"maxzoomscale\": [\"parseMaxZooScale\"]\n    }; }\n};\nJeepPhotoZoom.style = jeepPhotoZoomCss;\n\nconst jeepPhotoviewerCss = \":host{display:block;--gallery-box-width:33.33vw;--gallery-template-columns:auto auto auto;--photoviewer-background-color:black}.photoviewer-container::-webkit-scrollbar{display:none}.photoviewer-container{-ms-autohiding-scrollbar:none;scrollbar-width:0}.wrapper{position:absolute;top:0;left:0;display:grid;width:100vw;grid-template-columns:var(--gallery-template-columns);grid-row-gap:2px;column-gap:2px;background-color:var(--photoviewer-background-color)}.placeholder{width:var(--gallery-box-width);height:var(--gallery-box-width);line-height:var(--gallery-box-width);text-align:center;background-position:center;background-repeat:no-repeat;background-size:cover;background-color:#bdbbbb}.image{width:100%;background-position:center;background-repeat:no-repeat;background-size:cover;background-color:#fffff0}\";\n\nconst JeepPhotoviewer = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.onPhotoViewerResult = createEvent(this, \"jeepPhotoViewerResult\", 7);\n        //**********************************\n        //* Internal Variables Declaration *\n        //**********************************\n        this._isScale = false;\n        this._backRange = [\"white\", \"ivory\", \"lightgrey\", \"darkgrey\",\n            \"dimgrey\", \"grey\", \"black\"];\n        this.imageList = undefined;\n        this.options = undefined;\n        this.mode = undefined;\n        this.startFrom = undefined;\n        this.innerImageList = undefined;\n        this.innerOptions = undefined;\n        this.innerMode = undefined;\n        this.innerStartFrom = undefined;\n        this.showHScroll = false;\n        this.close = false;\n    }\n    //*****************************\n    //* Watch on Property Changes *\n    //*****************************\n    parseImageList(newValue) {\n        this.innerImageList = newValue;\n    }\n    parseOptions(newValue) {\n        this.innerOptions = newValue;\n    }\n    parseMode(newValue) {\n        const expMode = [\"one\", \"gallery\", \"slider\"];\n        const val = expMode.includes(newValue) ? newValue : \"one\";\n        this.innerMode = val;\n    }\n    parseStartFrom(newValue) {\n        const val = newValue < 0 || newValue > this.innerImageList.length ? 0 : newValue;\n        this.innerStartFrom = val;\n    }\n    //*******************************\n    //* Listen to Event Definitions *\n    //*******************************\n    handleWindowResize() {\n        this._windowResize();\n    }\n    async handleJeepPhotoHscrollClose() {\n        if (this.innerMode === \"gallery\") {\n            this.close = false;\n            await this.closePhotoHScroll();\n        }\n    }\n    async handleJeepPhotoButtonsClose(event) {\n        if (this.innerMode === \"gallery\") {\n            if (event.detail.component === \"jeep-photo-hscroll\") {\n                this.close = false;\n                await this.closePhotoHScroll();\n            }\n            else {\n                this.close = true;\n                this.onPhotoViewerResult.emit({ result: true });\n            }\n        }\n        if (this.innerMode === \"one\" || this.innerMode === \"slider\") {\n            this.close = true;\n        }\n    }\n    handleJeepPhotoHscrollResult(event) {\n        if (event.detail) {\n            this.onPhotoViewerResult.emit(event.detail);\n        }\n    }\n    //**********************\n    //* Method Definitions *\n    //**********************\n    /**\n     * Method initialize\n     */\n    async init() {\n        return await this._init();\n    }\n    closePhotoHScroll() {\n        return Promise.resolve(this._closeHScroll());\n    }\n    //*******************************\n    //* Component Lifecycle Methods *\n    //*******************************\n    async componentWillLoad() {\n        this._window = window;\n        await this.init();\n    }\n    //******************************\n    //* Private Method Definitions *\n    //******************************\n    async _init() {\n        this._element = this.el.shadowRoot;\n        this.parseImageList(this.imageList ? this.imageList : null);\n        this.parseOptions(this.options ? this.options : null);\n        this.parseMode(this.mode ? this.mode : \"one\");\n        let stFrom = 0;\n        if (this.startFrom != null) {\n            stFrom = this.startFrom > this.imageList.length - 1 ? this.imageList.length - 1\n                : this.startFrom;\n        }\n        this.parseStartFrom(stFrom);\n        this._setProperties();\n        return;\n    }\n    async _windowResize() {\n        this._setProperties();\n    }\n    _setProperties() {\n        if (this.innerImageList == null || this.innerImageList.length == 0) {\n            this.onPhotoViewerResult.emit({ result: false,\n                message: \"You must provide an image or an image array\" });\n        }\n        if ((this.innerMode === \"gallery\" || this.innerMode === \"slider\")\n            && this.innerImageList.length <= 1) {\n            this.onPhotoViewerResult.emit({ result: false,\n                message: `Image array should be greater than one for mode : ${this.innerMode}` });\n        }\n        if (this.innerMode === \"gallery\") {\n            var spanCount = this.options != null && this.options.spancount\n                ? this.options.spancount : 3;\n            if (this._window.innerWidth > this._window.innerHeight)\n                spanCount += 1;\n        }\n        else if (this.innerMode === \"slider\") {\n            spanCount = 1;\n            this._selPos = this.innerStartFrom;\n            this.showHScroll = true;\n        }\n        else if (this.innerMode === \"one\") {\n            spanCount = 1;\n            this._selPos = this.innerImageList.length > 1 ? this.innerStartFrom : 0;\n            this.showHScroll = true;\n        }\n        else {\n            this.onPhotoViewerResult.emit({ result: false,\n                message: \"mode must be in ['one', 'gallery', 'slider']\" });\n        }\n        const boxWidth = (100 / spanCount).toFixed(4);\n        var tempColumns = ``;\n        for (let i = 0; i < spanCount; i++) {\n            tempColumns += `auto `;\n        }\n        tempColumns = tempColumns.substring(0, tempColumns.length - 1);\n        var backColor = this.options != null &&\n            this._backRange.includes(this.options.backgroundcolor)\n            ? this.options.backgroundcolor : \"black\";\n        this.el.style.setProperty('--gallery-box-width', `${boxWidth}vw`);\n        this.el.style.setProperty('--gallery-template-columns', `${tempColumns}`);\n        this.el.style.setProperty('--photoviewer-background-color', `${backColor}`);\n    }\n    _handleClick(boxId) {\n        this._selPos = Number(boxId.substr(boxId.lastIndexOf(\"-\") + 1));\n        this.showHScroll = true;\n    }\n    async _closeHScroll() {\n        this.showHScroll = false;\n        return;\n    }\n    //*************************\n    //* Rendering JSX Element *\n    //*************************\n    render() {\n        let toRender = [];\n        if (this.innerImageList != null && this.innerImageList.length > 0) {\n            for (var i = 0; i < this.innerImageList.length; i++) {\n                const placeHolderStyle = { \"background-image\": `${placeholderUrl}` };\n                const elStyle = { \"background-image\": `url(${this.innerImageList[i].url})` };\n                const boxId = `gallery-box-${i}`;\n                if (this.innerMode === \"gallery\") {\n                    toRender = [...toRender, h(\"div\", { class: \"placeholder\", style: placeHolderStyle }, h(\"div\", { id: boxId, class: \"image\", onClick: () => this._handleClick(boxId), style: elStyle }, h(\"img\", null)))\n                    ];\n                }\n                else {\n                    toRender = [...toRender, h(\"div\", { class: \"placeholder\", style: placeHolderStyle }, h(\"div\", { id: boxId, class: \"image\", style: elStyle }, h(\"img\", null)))\n                    ];\n                }\n            }\n        }\n        return (h(Host, null, !this.close\n            ?\n                h(\"div\", { class: \"photoviewer-container\" }, this.showHScroll\n                    ?\n                        h(\"jeep-photo-hscroll\", { position: this._selPos, imageList: this.innerImageList, options: this.innerOptions, mode: this.innerMode })\n                    :\n                        h(\"div\", { class: \"wrapper\" }, toRender, h(\"jeep-photo-buttons\", { share: \"false\", viewmode: \"normal\", closebutton: \"yes\", fromcomponent: \"jeep-photoviewer\" })))\n            :\n                null));\n    }\n    static get assetsDirs() { return [\"assets\"]; }\n    get el() { return getElement(this); }\n    static get watchers() { return {\n        \"imageList\": [\"parseImageList\"],\n        \"options\": [\"parseOptions\"],\n        \"mode\": [\"parseMode\"],\n        \"startFrom\": [\"parseStartFrom\"]\n    }; }\n};\nJeepPhotoviewer.style = jeepPhotoviewerCss;\n\nexport { JeepPhotoButtons as jeep_photo_buttons, JeepPhotoHscroll as jeep_photo_hscroll, JeepPhotoShare as jeep_photo_share, JeepPhotoSwipe as jeep_photo_swipe, JeepPhotoZoom as jeep_photo_zoom, JeepPhotoviewer as jeep_photoviewer };\n\n//# sourceMappingURL=jeep-photo-buttons_6.entry.js.map"],"names":["btoa","b","window","shareUrl","closeUrl","minimizeUrl","fullscreenUrl","placeholderUrl","JeepPhotoButtons","constructor","hostRef","r","this","onPhotoButtonsClose","c","onPhotoRequestFullscreen","onPhotoRequestMinimize","onPhotoButtonsShare","share","undefined","viewmode","closebutton","fromcomponent","innerShare","innerViewmode","innerCloseButton","innerFromComponent","visible","mode","parseShare","newValue","parseViewmode","parseCloseButton","parseFromComponent","init","_init","setPhotoButtons","Promise","resolve","_setPhotoButtons","setJeepPhotoButtonsVisibility","state","_photoButtonsEl","classList","remove","add","componentWillLoad","_window","componentDidLoad","_element","el","shadowRoot","_modeUrl","querySelector","_shareEl","style","setProperty","_modeEl","_closeEl","_handleClick","button","emit","component","render","toRender","h","class","onClick","H","g","watchers","JeepPhotoHscroll","onPhotoHscrollResult","onPhotoZoom","onPhotoPhotoHscrollClose","_tapped","_tappedTime","_tapNum","_timerStart","_photoZoomOneTap","_ticking","_isScrollListener","_shareUrl","_shareTitle","_shareText","position","imageList","options","innerImageList","innerOptions","innerPosition","innerMode","buttonsVisibility","isFullscreen","photoZoom","shareShow","titleShow","maxZoomScale","currentIndex","parsePosition","parseImageList","parseOptions","parseMode","handleWindowResize","_currentPosition","innerWidth","_scrollToPosition","handleJeepPhotoButtonsClose","_fullscreenExit","_getCurrentPhotoIndex","result","imageIndex","handleJeepPhotoButtonsShare","url","title","handleJeepPhotoShareCompleted","event","detail","message","handleJeepPhotoFullscreenRequest","_fullscreenRequest","document","documentElement","handleJeepPhotoMinimizeRequest","index","handleJeepPhotoZoomOneTap","isZoom","handleJeepPhotoSwipe","direction","up","down","setCarousel","_setCarousel","componentDidRender","Object","keys","includes","maxzoomscale","_widthFullscreen","_hsContEl","addEventListener","_wheelHandler","bind","_carouselEl","_previousScrollWidth","scrollWidth","setTimeout","async","ctrlKey","preventDefault","scrollTo","Number","scrollLeft","Math","abs","length","round","elem","requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen","doc","exitFullscreen","webkitExitFullscreen","mozExitFullscreen","msExitFullscreen","toRenderImg","classTitle","i","src","alt","toRenderShare","surl","stitle","stext","JeepPhotoShare","onPhotoShareCompleted","innerUrl","innerTitle","innerText","parseUrl","parseTitle","parseText","setShare","_setShare","navigator","text","then","catch","error","msg","JeepPhotoSwipe","onPhotoSwipe","_startPoint","_endPoint","_totalTime","_getSwipeDirection","startPoint","endPoint","thresholdX","thresholdY","swipeDirection","right","left","x","y","timeThreshold","innerTimeThreshold","innerThresholdX","innerThresholdY","parseTimeThreshold","parseThresholdX","parseThresholdY","handleTouchStart","e","touches","clientX","clientY","_time","setInterval","handleTouchEnd","changedTouches","clearInterval","res","handleMouseDown","handleMouseUp","onTouchStart","onTouchEnd","onMouseDown","onMouseUp","JeepPhotoZoom","onPhotoZoomOneTap","_tapedTime","_imageNatural","_view","_imageInView","_curPan","_movePoint","_lastPoint","_toggleDoubleTouch","_touchStart","_touchMove","_touchWheel","_touchStartTime","_waiTime","_initialDistance","_pinchPoint","_WHEEL_SCALE_SPEEDUP","innerMaxZoomScale","parseMaxZooScale","setPhoto","_setPhoto","_curZoomScale","innerHeight","_photoEl","_startHandler","_moveHandler","_endHandler","setImage","_imageEl","top","width","height","naturalWidth","naturalHeight","_calculateImageInView","_maxZoomScale","_calculateMaxZooScale","_setHostProperties","img","Image","onload","append","className","scale","pan","transform","imageRect","max","_getTouchPoint","point","targetTouches","factor","deltaY","min","Date","getTime","_handleSingleTap","deltaPoint","touchDuration","clearTimeout","_handleDoubleTap","pt","JeepPhotoviewer","onPhotoViewerResult","_isScale","_backRange","startFrom","innerStartFrom","showHScroll","close","val","parseStartFrom","_windowResize","handleJeepPhotoHscrollClose","closePhotoHScroll","handleJeepPhotoHscrollResult","_closeHScroll","stFrom","_setProperties","spanCount","spancount","_selPos","boxWidth","toFixed","tempColumns","substring","backColor","backgroundcolor","boxId","substr","lastIndexOf","placeHolderStyle","elStyle","id","assetsDirs"],"sourceRoot":""}